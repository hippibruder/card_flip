(function(e){function t(t){for(var i,a,c=t[0],s=t[1],u=t[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/card_flip/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1623:function(e,t,n){},"199a":function(e,t,n){},"4e61":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function o(e,t,n,o,r,a){var c=Object(i["j"])("settings"),s=Object(i["j"])("game-info"),u=Object(i["j"])("card-list"),d=Object(i["j"])("game-over");return Object(i["f"])(),Object(i["c"])(i["a"],null,[Object(i["e"])(c,{onNewGame:a.newGame,onResetGame:a.resetGame,onUndoMove:a.undoMove,undoEnabled:r.undoStack.hasActions,onShowHintsChanged:a.showHintsChanged},null,8,["onNewGame","onResetGame","onUndoMove","undoEnabled","onShowHintsChanged"]),Object(i["e"])(s,{numLeftover:r.game.leftovers.length,numFlipped:r.game.flipped.length,showHints:r.showHints,solvable:r.gameSolver.solvable,nextMove:r.gameSolver.nextMove},null,8,["numLeftover","numFlipped","showHints","solvable","nextMove"]),Object(i["e"])(u,{cards:r.game.cards,showHints:r.showHints,nextMove:r.gameSolver.nextMove,onCardClicked:a.cardClicked},null,8,["cards","showHints","nextMove","onCardClicked"]),Object(i["e"])(d,{win:r.game.win,lose:r.game.lose,onNewGame:a.newGame,onResetGame:a.resetGame},null,8,["win","lose","onNewGame","onResetGame"])],64)}n("159b");var r=Object(i["q"])("data-v-55f32f33");Object(i["h"])("data-v-55f32f33");var a={class:"card-list-info"},c={key:0};Object(i["g"])();var s=r((function(e,t,n,o,r,s){return Object(i["f"])(),Object(i["c"])("div",a,[Object(i["o"])(Object(i["e"])("div",null,"Flipped: "+Object(i["k"])(n.numFlipped)+"/"+Object(i["k"])(n.numLeftover),513),[[i["n"],n.numLeftover]]),n.showHints?(Object(i["f"])(),Object(i["c"])("div",c,[Object(i["o"])(Object(i["e"])("div",null,"Not solvable!",512),[[i["n"],!n.solvable&&n.numLeftover]]),Object(i["o"])(Object(i["e"])("div",null,"Next move: "+Object(i["k"])(n.nextMove),513),[[i["n"],n.solvable]])])):Object(i["d"])("",!0)])})),u=(n("a9e3"),{name:"GameInfo",props:{numFlipped:Number,numLeftover:Number,showHints:Boolean,solvable:Boolean,nextMove:Number}});n("6a37");u.render=s,u.__scopeId="data-v-55f32f33";var d=u,l=Object(i["q"])("data-v-a38242c6");Object(i["h"])("data-v-a38242c6");var f={class:"card-list"};Object(i["g"])();var h=l((function(e,t,n,o,r,a){var c=Object(i["j"])("card");return Object(i["f"])(),Object(i["c"])("div",f,[(Object(i["f"])(!0),Object(i["c"])(i["a"],null,Object(i["i"])(n.cards,(function(e){return Object(i["f"])(),Object(i["c"])(c,{card:e,showHints:n.showHints,nextMove:n.nextMove,onCardClicked:a.cardClicked,key:e.index},null,8,["card","showHints","nextMove","onCardClicked"])})),128))])})),v=Object(i["q"])("data-v-dc22baa4");Object(i["h"])("data-v-dc22baa4");var m=Object(i["e"])("svg",{viewBox:"0 0 5 7"},null,-1),b={class:"card-content"};Object(i["g"])();var p=v((function(e,t,n,o,r,a){return Object(i["f"])(),Object(i["c"])("div",{class:"card-wrapper",onClick:t[1]||(t[1]=function(){return a.click&&a.click.apply(a,arguments)}),"data-testid":"card-wrapper"},[m,Object(i["o"])(Object(i["e"])("button",{class:["card",{flipped:n.card.flipped,hint:a.isNextMove,visible:!n.card.removed}],ref:"card","data-testid":"card"},[Object(i["e"])("div",b,Object(i["k"])(n.card.index),1)],2),[[i["n"],!n.card.removed]])])})),O={name:"Card",props:{card:{type:Object,required:!0},showHints:Boolean,nextMove:Number},methods:{click:function(){this.$emit("card-clicked",this.card.index,this.card.flipped)}},computed:{isNextMove:function(){var e=this,t=this.showHints&&this.card.index==this.nextMove;return t&&(this.$refs.card?this.$refs.card.focus():this.$nextTick((function(){return e.$refs.card.focus()}))),t}}};n("a88b");O.render=p,O.__scopeId="data-v-dc22baa4";var j=O;function g(e,t){var n=null;return function(){clearTimeout(n);var i=arguments,o=this;n=setTimeout((function(){e.apply(o,i)}),t||300)}}var w={name:"CardList",components:{Card:j},props:{cards:Array,showHints:Boolean,nextMove:Number},emits:["card-clicked"],methods:{cardClicked:function(e,t){this.$emit("card-clicked",e,t)},adjustFontSize:function(){var e=document.querySelectorAll(".card");e.forEach((function(e){var t=e.clientWidth/2;e.style.fontSize=t+"px"}))}},created:function(){this.adjustFontSizeDebounced=g(this.adjustFontSize,100)},mounted:function(){ResizeObserver&&(this.ro=new ResizeObserver(this.adjustFontSizeDebounced).observe(this.$el))},beforeUnmount:function(){this.ro&&this.ro.unobserve(this.$el)}};n("5eec");w.render=h,w.__scopeId="data-v-a38242c6";var y=w,k=Object(i["q"])("data-v-a474e844");Object(i["h"])("data-v-a474e844");var C={class:"settings_item"},G=Object(i["e"])("label",{for:"num-cards"},"Cards:",-1),x={class:"settings_item"},S=Object(i["e"])("label",{for:"show-hints"},"Hints:",-1);Object(i["g"])();var M=k((function(e,t,n,o,r,a){return Object(i["f"])(),Object(i["c"])("form",{class:"settings",onSubmit:t[8]||(t[8]=Object(i["p"])((function(){return a.newGame&&a.newGame.apply(a,arguments)}),["prevent"]))},[Object(i["e"])("div",C,[G,Object(i["o"])(Object(i["e"])("input",{id:"num-cards",type:"number",min:"0","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.numCards=e}),onInput:t[2]||(t[2]=function(){return a.newGame&&a.newGame.apply(a,arguments)})},null,544),[[i["m"],r.numCards,void 0,{number:!0}]])]),Object(i["e"])("div",x,[S,Object(i["o"])(Object(i["e"])("input",{id:"show-hints",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.showHints=e}),onChange:t[4]||(t[4]=function(){return a.showHintsChanged&&a.showHintsChanged.apply(a,arguments)})},null,544),[[i["l"],r.showHints]])]),Object(i["e"])("input",{class:"settings_item button",type:"button",value:"âŽŒ",title:"Undo Move",onClick:t[5]||(t[5]=function(){return a.undoMove&&a.undoMove.apply(a,arguments)}),disabled:!n.undoEnabled},null,8,["disabled"]),Object(i["e"])("input",{class:"settings_item button",type:"submit",value:"New Game",onClick:t[6]||(t[6]=function(){return a.newGame&&a.newGame.apply(a,arguments)})}),Object(i["e"])("input",{class:"settings_item button",type:"button",value:"Reset Game",onClick:t[7]||(t[7]=function(){return a.resetGame&&a.resetGame.apply(a,arguments)})})],32)})),H={name:"Settings",props:{undoEnabled:Boolean},data:function(){return{numCards:8,showHints:!1}},methods:{newGame:function(){this.numCards=Number(this.numCards),this.numCards<1||this.$emit("new-game",this.numCards)},resetGame:function(){this.$emit("reset-game")},undoMove:function(){this.$emit("undo-move")},showHintsChanged:function(){this.$emit("show-hints-changed",this.showHints)}},created:function(){this.newGame()}};n("7ca4");H.render=M,H.__scopeId="data-v-a474e844";var _=H,E=Object(i["q"])("data-v-03e675ff");Object(i["h"])("data-v-03e675ff");var N={class:"game-over"},$={class:"game-over-background"},A={class:"game-over-text win"},F={class:"game-over-text lose"};Object(i["g"])();var z=E((function(e,t,n,o,r,a){return Object(i["o"])((Object(i["f"])(),Object(i["c"])("div",N,[Object(i["e"])("div",$,[Object(i["o"])(Object(i["e"])("div",A,"Win!",512),[[i["n"],n.win]]),Object(i["o"])(Object(i["e"])("div",F,"Lose!",512),[[i["n"],n.lose]]),Object(i["e"])("input",{class:"game-over-button",type:"button",value:"New Game",onClick:t[1]||(t[1]=function(){return a.newGame&&a.newGame.apply(a,arguments)})}),Object(i["e"])("input",{class:"game-over-button",type:"button",value:"Reset Game",onClick:t[2]||(t[2]=function(){return a.resetGame&&a.resetGame.apply(a,arguments)})})])],512)),[[i["n"],a.gameOver]])})),L={name:"GameOver",props:{win:{type:Boolean,required:!0},lose:{type:Boolean,required:!0}},data:function(){return{numCards:8}},computed:{gameOver:function(){return this.win||this.lose}},methods:{newGame:function(){this.$emit("new-game")},resetGame:function(){this.$emit("reset-game")}}};n("f70a");L.render=z,L.__scopeId="data-v-03e675ff";var q=L,B=n("d4ec"),U=n("bee2"),I=(n("4de4"),n("faa1")),R=function(){function e(t,n){Object(B["a"])(this,e),this.numCards=t,this.eventEmitter=new I.EventEmitter,this.addUndoAction=n,this.init()}return Object(U["a"])(e,[{key:"init",value:function(){for(var e=[],t=0;t<this.numCards;t++){var n=Boolean(Math.floor(2*Math.random()));e.push(new P(n,t))}this.cards=e}},{key:"reset",value:function(){this.cards.forEach((function(e){e.reset()})),this.fireOnChange()}},{key:"removeCard",value:function(e){var t=this,n=this.cards[e];n.flipped&&!n.removed&&(this.addUndoAction&&this.addUndoAction((function(){return t._removeCard(e,!0)})),this._removeCard(e,!1))}},{key:"_removeCard",value:function(e,t){var n=this;this.cards[e].removed=!t;var i=[],o=e-1;o>=0&&i.push(o);var r=e+1;r<this.cards.length&&i.push(r),i.forEach((function(e){var t=n.cards[e];t.flipped=!t.flipped})),this.fireOnChange()}},{key:"leftovers",get:function(){return this.cards.filter((function(e){return!e.removed}))}},{key:"flipped",get:function(){return this.leftovers.filter((function(e){return e.flipped}))}},{key:"win",get:function(){return 0!==this.numCards&&0===this.leftovers.length}},{key:"lose",get:function(){return 0!==this.numCards&&!this.win&&0===this.flipped.length}},{key:"registerOnChange",value:function(e){this.eventEmitter.on("change",e)}},{key:"fireOnChange",value:function(){this.eventEmitter.emit("change")}}]),e}(),P=function(){function e(t,n){Object(B["a"])(this,e),this.flippedOriginal=t,this.flipped=t,this.removed=!1,this.index=n}return Object(U["a"])(e,[{key:"reset",value:function(){this.flipped=this.flippedOriginal,this.removed=!1}}]),e}(),T=n("2909"),W=n("b85c"),D=function(){function e(t){var n=this;Object(B["a"])(this,e),this.game=void 0===t?new R:t,this.order=[],this.updateOrder(),this.game.registerOnChange((function(){return n.updateOrder()}))}return Object(U["a"])(e,[{key:"nextMove",get:function(){if(0!==this.order.length)return this.order[0]}},{key:"solvable",get:function(){return this.order.length>0}},{key:"updateOrder",value:function(){this.order=this.getSolveOrder()}},{key:"getSubGames",value:function(){var e=[],t=[];return this.game.cards.forEach((function(n){n.removed?t.length>0&&(e.push(t),t=[]):t.push(n)})),t.length>0&&e.push(t),e}},{key:"getSolveOrder",value:function(){var t,n=!0,i=this.getSubGames(),o=[],r=Object(W["a"])(i);try{for(r.s();!(t=r.n()).done;){var a=t.value,c=e.getSolveOrderForGame(a);if(0===c.length){n=!1;break}o.push.apply(o,Object(T["a"])(c))}}catch(s){r.e(s)}finally{r.f()}return n?o:[]}}],[{key:"getSolveOrderForGame",value:function(e){var t=[],n=!1;return e.forEach((function(e){n?t.push(e.index):t.unshift(e.index),n^=e.flipped})),n?t:[]}}]),e}(),J=function(){function e(){Object(B["a"])(this,e),this.stack=[]}return Object(U["a"])(e,[{key:"reset",value:function(){this.stack=[]}},{key:"addAction",value:function(e){this.stack.push(e)}},{key:"undoAction",value:function(){var e=this.stack.pop();e&&e()}},{key:"hasActions",get:function(){return this.stack.length>0}}]),e}(),V={name:"App",components:{GameInfo:d,CardList:y,Settings:_,GameOver:q},data:function(){return{game:new R,gameSolver:new D,undoStack:new J,numCards:0,win:!1,lose:!1,showHints:!1}},methods:{newGame:function(e){var t=this;void 0!==e&&(this.numCards=e),this.undoStack.reset(),this.game=new R(this.numCards,(function(e){return t.undoStack.addAction(e)})),this.gameSolver=new D(this.game),this.$nextTick((function(){t.adjustFontSize()}))},resetGame:function(){this.undoStack.reset(),this.game.reset()},undoMove:function(){this.undoStack.undoAction()},cardClicked:function(e){this.game.removeCard(e)},showHintsChanged:function(e){this.showHints=e},keydown:function(e){"z"===e.key&&this.undoMove()},adjustFontSize:function(){var e=document.querySelectorAll(".card");e.forEach((function(e){var t=e.clientWidth/2;e.style.fontSize=t+"px"}))}},mounted:function(){window.addEventListener("keydown",this.keydown)},unmounted:function(){window.removeEventListener("keydown",this.keydown)}};n("dff1");V.render=o;var K=V;Object(i["b"])(K).mount("#app")},"5eec":function(e,t,n){"use strict";n("1623")},"6a37":function(e,t,n){"use strict";n("d340")},"6b22":function(e,t,n){},"7ca4":function(e,t,n){"use strict";n("f955")},a88b:function(e,t,n){"use strict";n("4e61")},d340:function(e,t,n){},dff1:function(e,t,n){"use strict";n("6b22")},f70a:function(e,t,n){"use strict";n("199a")},f955:function(e,t,n){}});
//# sourceMappingURL=app.3725ffeb.js.map